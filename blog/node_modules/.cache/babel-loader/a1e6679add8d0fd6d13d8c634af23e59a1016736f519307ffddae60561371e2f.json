{"ast":null,"code":"import axios from 'axios';\nimport { API_NOTIFICATIONS_MSG, Services_url } from '../constant/config';\nconst API_url = 'http://localhost:8000';\nconst instances = axios.create({\n  baseURL: API_url,\n  timeout: 10000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\ninstances.interceptors.request.use(function (config) {\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\ninstances.interceptors.response.use(function (response) {\n  //stop global loader\n  return processResponse(response);\n}, function (error) {\n  //global loader\n  return Promise.reject(processError(error));\n});\nconst processResponse = response => {\n  if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n    console.log(\"response from ProcessResponse\", response);\n    return {\n      isSuccess: true,\n      data: response.data\n    };\n  } else {\n    return {\n      isFailure: true,\n      status: response === null || response === void 0 ? void 0 : response.status,\n      msg: (response === null || response === void 0 ? void 0 : response.msg) || \"An error occurred during the request\",\n      code: response === null || response === void 0 ? void 0 : response.code\n    };\n  }\n};\nconst processError = error => {\n  if (error.response) {\n    console.log(\"Error in response:\", error.response); // Log detailed error response\n    return {\n      isError: true,\n      msg: error.response.data.msg || API_NOTIFICATIONS_MSG.responseFailure,\n      code: error.response.status\n    };\n  } else if (error.request) {\n    console.log(\"Error in Request:\", error.request); // Log request error\n    return {\n      isError: true,\n      msg: API_NOTIFICATIONS_MSG.requestFailure,\n      code: ''\n    };\n  } else {\n    console.log(\"Error in Network:\", error.message); // Log network error\n    return {\n      isError: true,\n      msg: API_NOTIFICATIONS_MSG.networkError,\n      code: ''\n    };\n  }\n};\nconst API = {\n  UserSignup: async userData => {\n    try {\n      const response = await instances({\n        url: Services_url.UserSignup.url,\n        method: Services_url.UserSignup.method,\n        data: userData,\n        responseType: 'json' // Assuming JSON response type\n      });\n      return response.data; // Return the response data\n    } catch (error) {\n      throw error; // Throw any errors for handling in the calling function\n    }\n  }\n};\nfor (const [key, value] of Object.entries(Services_url)) {\n  API[key] = (body, showUploadProgress, showDownloadProgress) => {\n    instances({\n      url: value.url,\n      method: value.method,\n      data: body,\n      responseType: value.responseType,\n      onUploadProgress: function (progessEvent) {\n        if (showUploadProgress) {\n          const percentagecompleted = Math.round(progessEvent.loaded * 100 / progessEvent.total);\n          showUploadProgress(percentagecompleted);\n        }\n      },\n      onDownloadProgress: function (progessEvent) {\n        if (showDownloadProgress) {\n          const percentagecompleted = Math.round(progessEvent.loaded * 100 / progessEvent.total);\n          showDownloadProgress(percentagecompleted);\n        }\n      }\n    });\n  };\n}\nexport { API };","map":{"version":3,"names":["axios","API_NOTIFICATIONS_MSG","Services_url","API_url","instances","create","baseURL","timeout","headers","interceptors","request","use","config","error","Promise","reject","response","processResponse","processError","status","console","log","isSuccess","data","isFailure","msg","code","isError","responseFailure","requestFailure","message","networkError","API","UserSignup","userData","url","method","responseType","key","value","Object","entries","body","showUploadProgress","showDownloadProgress","onUploadProgress","progessEvent","percentagecompleted","Math","round","loaded","total","onDownloadProgress"],"sources":["D:/Blog-master/blog/src/Service/Api.js"],"sourcesContent":["import axios from 'axios';\nimport { API_NOTIFICATIONS_MSG, Services_url } from '../constant/config';\n\n\nconst API_url = 'http://localhost:8000';\nconst instances = axios.create({\n  baseURL: API_url,\n  timeout: 10000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\ninstances.interceptors.request.use(\n  function (config) {\n    return config;\n  },\n\n  function (error){\n   return  Promise.reject(error);\n  }\n);\n\ninstances.interceptors.response.use(\n  function (response) {\n    //stop global loader\n    return processResponse(response);\n  },\n  function (error) {\n    //global loader\n    return Promise.reject(processError(error));\n  }\n);\n\nconst processResponse = (response) => {\n  if (response?.status === 200) {\n    console.log(\"response from ProcessResponse\",response)\n    return { isSuccess: true, data: response.data };\n  } else {\n    return {\n      isFailure: true,\n      status: response?.status,\n      msg: response?.msg || \"An error occurred during the request\",\n      code: response?.code,\n    };\n  }\n};\n\nconst processError = (error) => {\n  if (error.response) {\n    console.log(\"Error in response:\", error.response); // Log detailed error response\n    return {\n      isError: true,\n      msg: error.response.data.msg || API_NOTIFICATIONS_MSG.responseFailure,\n      code: error.response.status,\n    };\n  } else if (error.request) {\n    console.log(\"Error in Request:\", error.request); // Log request error\n    return {\n      isError: true,\n      msg: API_NOTIFICATIONS_MSG.requestFailure,\n      code: '',\n    };\n  } else {\n    console.log(\"Error in Network:\", error.message); // Log network error\n    return {\n      isError: true,\n      msg: API_NOTIFICATIONS_MSG.networkError,\n      code: '',\n    };\n  }\n};\n\n\nconst API = {UserSignup: async (userData) => {\n  try {\n    const response = await instances({\n      url: Services_url.UserSignup.url,\n      method: Services_url.UserSignup.method,\n      data: userData,\n      responseType: 'json' // Assuming JSON response type\n    });\n    return response.data; // Return the response data\n  } catch (error) {\n    throw error; // Throw any errors for handling in the calling function\n  }\n}};\n\nfor (const [key, value] of Object.entries(Services_url)){\n  API[key] =(body, showUploadProgress, showDownloadProgress) =>{\n      instances({\n        url: value.url,\n        method: value.method,\n        data : body,\n        responseType : value.responseType,\n        onUploadProgress : function (progessEvent) \n        {\n          if(showUploadProgress)\n          {\n            const percentagecompleted = Math.round((progessEvent.loaded * 100)/progessEvent.total);\n            showUploadProgress(percentagecompleted);\n          }\n        },\n        onDownloadProgress : function (progessEvent){\n          if(showDownloadProgress)\n          {\n            const percentagecompleted = Math.round((progessEvent.loaded * 100) / progessEvent.total);\n            showDownloadProgress(percentagecompleted);\n          }\n        }\n      });\n  };\n}\nexport { API };\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,qBAAqB,EAAEC,YAAY,QAAQ,oBAAoB;AAGxE,MAAMC,OAAO,GAAG,uBAAuB;AACvC,MAAMC,SAAS,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC7BC,OAAO,EAAEH,OAAO;EAChBI,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEFJ,SAAS,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAChC,UAAUC,MAAM,EAAE;EAChB,OAAOA,MAAM;AACf,CAAC,EAED,UAAUC,KAAK,EAAC;EACf,OAAQC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAEDT,SAAS,CAACK,YAAY,CAACO,QAAQ,CAACL,GAAG,CACjC,UAAUK,QAAQ,EAAE;EAClB;EACA,OAAOC,eAAe,CAACD,QAAQ,CAAC;AAClC,CAAC,EACD,UAAUH,KAAK,EAAE;EACf;EACA,OAAOC,OAAO,CAACC,MAAM,CAACG,YAAY,CAACL,KAAK,CAAC,CAAC;AAC5C,CACF,CAAC;AAED,MAAMI,eAAe,GAAID,QAAQ,IAAK;EACpC,IAAI,CAAAA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,MAAM,MAAK,GAAG,EAAE;IAC5BC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAACL,QAAQ,CAAC;IACrD,OAAO;MAAEM,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAEP,QAAQ,CAACO;IAAK,CAAC;EACjD,CAAC,MAAM;IACL,OAAO;MACLC,SAAS,EAAE,IAAI;MACfL,MAAM,EAAEH,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,MAAM;MACxBM,GAAG,EAAE,CAAAT,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAES,GAAG,KAAI,sCAAsC;MAC5DC,IAAI,EAAEV,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEU;IAClB,CAAC;EACH;AACF,CAAC;AAED,MAAMR,YAAY,GAAIL,KAAK,IAAK;EAC9B,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAClBI,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAER,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC;IACnD,OAAO;MACLW,OAAO,EAAE,IAAI;MACbF,GAAG,EAAEZ,KAAK,CAACG,QAAQ,CAACO,IAAI,CAACE,GAAG,IAAIxB,qBAAqB,CAAC2B,eAAe;MACrEF,IAAI,EAAEb,KAAK,CAACG,QAAQ,CAACG;IACvB,CAAC;EACH,CAAC,MAAM,IAAIN,KAAK,CAACH,OAAO,EAAE;IACxBU,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAER,KAAK,CAACH,OAAO,CAAC,CAAC,CAAC;IACjD,OAAO;MACLiB,OAAO,EAAE,IAAI;MACbF,GAAG,EAAExB,qBAAqB,CAAC4B,cAAc;MACzCH,IAAI,EAAE;IACR,CAAC;EACH,CAAC,MAAM;IACLN,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAER,KAAK,CAACiB,OAAO,CAAC,CAAC,CAAC;IACjD,OAAO;MACLH,OAAO,EAAE,IAAI;MACbF,GAAG,EAAExB,qBAAqB,CAAC8B,YAAY;MACvCL,IAAI,EAAE;IACR,CAAC;EACH;AACF,CAAC;AAGD,MAAMM,GAAG,GAAG;EAACC,UAAU,EAAE,MAAOC,QAAQ,IAAK;IAC3C,IAAI;MACF,MAAMlB,QAAQ,GAAG,MAAMZ,SAAS,CAAC;QAC/B+B,GAAG,EAAEjC,YAAY,CAAC+B,UAAU,CAACE,GAAG;QAChCC,MAAM,EAAElC,YAAY,CAAC+B,UAAU,CAACG,MAAM;QACtCb,IAAI,EAAEW,QAAQ;QACdG,YAAY,EAAE,MAAM,CAAC;MACvB,CAAC,CAAC;MACF,OAAOrB,QAAQ,CAACO,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACd,MAAMA,KAAK,CAAC,CAAC;IACf;EACF;AAAC,CAAC;AAEF,KAAK,MAAM,CAACyB,GAAG,EAAEC,KAAK,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACvC,YAAY,CAAC,EAAC;EACtD8B,GAAG,CAACM,GAAG,CAAC,GAAE,CAACI,IAAI,EAAEC,kBAAkB,EAAEC,oBAAoB,KAAI;IACzDxC,SAAS,CAAC;MACR+B,GAAG,EAAEI,KAAK,CAACJ,GAAG;MACdC,MAAM,EAAEG,KAAK,CAACH,MAAM;MACpBb,IAAI,EAAGmB,IAAI;MACXL,YAAY,EAAGE,KAAK,CAACF,YAAY;MACjCQ,gBAAgB,EAAG,SAAAA,CAAUC,YAAY,EACzC;QACE,IAAGH,kBAAkB,EACrB;UACE,MAAMI,mBAAmB,GAAGC,IAAI,CAACC,KAAK,CAAEH,YAAY,CAACI,MAAM,GAAG,GAAG,GAAEJ,YAAY,CAACK,KAAK,CAAC;UACtFR,kBAAkB,CAACI,mBAAmB,CAAC;QACzC;MACF,CAAC;MACDK,kBAAkB,EAAG,SAAAA,CAAUN,YAAY,EAAC;QAC1C,IAAGF,oBAAoB,EACvB;UACE,MAAMG,mBAAmB,GAAGC,IAAI,CAACC,KAAK,CAAEH,YAAY,CAACI,MAAM,GAAG,GAAG,GAAIJ,YAAY,CAACK,KAAK,CAAC;UACxFP,oBAAoB,CAACG,mBAAmB,CAAC;QAC3C;MACF;IACF,CAAC,CAAC;EACN,CAAC;AACH;AACA,SAASf,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}